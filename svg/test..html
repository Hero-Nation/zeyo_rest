<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<script src="svg.js"></script>
</head>
<body>
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
    width="535.334px" height="287.659px" viewBox="0 0 535.334 287.659" enable-background="new 0 0 535.334 287.659"
    xml:space="preserve">
<g id="fill">
   <path opacity="0.4" fill="#FFFFFF" d="M268.507,282.035h80.998l-2.883-147.23l87.163,120.56l36.445-23.014L356.376,50.665
      l-55.815-25.568c-9.076,5.588-32.24,5.287-32.24,5.287h0.215c0,0-23.176,0.301-32.26-5.287L180.48,50.665L66.624,232.352
      l36.426,23.014l87.204-120.56l-2.923,147.23h81.018H268.507z"/>
</g>
<g id="stroke">
   <g>
      <path fill="none" stroke="#000000" stroke-width="1.5" stroke-miterlimit="10" d="M300.743,25.096c0,0-6.413,17.843-32.485,17.843
         s-32.485-17.843-32.485-17.843"/>
      <path fill="none" stroke="#000000" stroke-width="1.5" stroke-miterlimit="10" d="M308.18,28.504c0,0-7.951,22.526-39.922,22.526
         s-39.921-22.526-39.921-22.526"/>
      <path fill="none" stroke="#000000" stroke-width="1.5" stroke-miterlimit="10" d="M291.967,35.967c0,0-8.226,2.809-23.709,2.809
         s-23.709-2.809-23.709-2.809"/>
      <path fill="none" stroke="#000000" stroke-width="1.5" stroke-miterlimit="10" d="M180.961,50.911c0,0,15.651,45.925,9.583,82.599
         "/>
      <path fill="none" stroke="#000000" stroke-width="1.5" stroke-miterlimit="10" d="M355.41,50.911c0,0-15.651,45.925-9.582,82.599"
         />
      <path fill="none" stroke="#000000" stroke-width="2.5" stroke-miterlimit="10" d="M268.004,282.035h80.998l-2.883-147.23
         l87.163,120.56l36.445-23.014L355.873,50.665l-55.815-25.568c-9.076,5.588-32.24,5.287-32.24,5.287h0.215
         c0,0-23.176,0.301-32.26-5.287l-55.795,25.568L66.121,232.352l36.426,23.014l87.204-120.56l-2.923,147.23h81.018H268.004z"/>
   </g>
</g>
<g id="chest_x5F_line">
   <line fill="none" stroke="#040000" stroke-width="2" stroke-miterlimit="10" x1="189.477" y1="140.791" x2="346.09" y2="140.791"/>
</g>
<g id="chest_x5F_left_x5F_dot">
   <circle cx="190.451" cy="140.791" r="4"/>
</g>
<g id="chest_x5F_right_x5F_dot">
   <circle cx="346.615" cy="140.791" r="4"/>
</g>
<g id="chest_x5F_label">
   <path d="M318.428,140.632c0,4.142-3.575,7.5-7.984,7.5H226.41c-4.409,0-7.982-3.358-7.982-7.5l0,0c0-4.142,3.573-7.5,7.982-7.5
      h84.033C314.853,133.132,318.428,136.49,318.428,140.632L318.428,140.632z"/>
</g>
<g id="chest_x5F_text">
   <text transform="matrix(1 0 0 1 238.5234 144.7905)"><tspan x="0" y="0" fill="#FFFFFF" font-family="'NotoSansCJKkr-Regular-KSCpc-EUC-H'" font-size="11">가슴 </tspan><tspan x="22.703" y="0" fill="#FFFFFF" font-family="'NotoSansCJKkr-Regular-KSCpc-EUC-H'" font-size="12">+10cm</tspan></text>
</g>
<g id="shoulder_x5F_line">
   <line fill="none" stroke="#040000" stroke-width="2" stroke-miterlimit="10" x1="180.961" y1="10.632" x2="355.41" y2="10.632"/>
</g>
<g id="shoulder_x5F_left_x5F_dot">
   <circle cx="180.961" cy="10.38" r="4"/>
</g>
<g id="shoulder_x5F_right_x5F_dot">
   <circle cx="355.41" cy="10.38" r="4"/>
</g>
<g id="shoulder_x5F_label">
   <path d="M318.186,10.632c0,4.142-3.575,7.5-7.984,7.5h-84.034c-4.409,0-7.982-3.358-7.982-7.5l0,0c0-4.142,3.573-7.5,7.982-7.5
      h84.034C314.61,3.132,318.186,6.49,318.186,10.632L318.186,10.632z"/>
</g>
<g id="shoulder_x5F_text">
   <text transform="matrix(1 0 0 1 238.5234 14.6265)"><tspan x="0" y="0" fill="#FFFFFF" font-family="'NotoSansCJKkr-Regular-KSCpc-EUC-H'" font-size="11">어깨 </tspan><tspan x="22.703" y="0" fill="#FFFFFF" font-family="'NotoSansCJKkr-Regular-KSCpc-EUC-H'" font-size="12">+10cm</tspan></text>
</g>
<g id="arm_x5F_line">
   <line fill="none" stroke="#040000" stroke-width="2" stroke-miterlimit="10" x1="47.313" y1="221.503" x2="160.801" y2="40.93"/>
</g>
<g id="arm_x5F_left_x5F_dot">
   <circle cx="47.313" cy="221.502" r="4"/>
</g>
<g id="arm_x5F_right_x5F_dot">
   <circle cx="160.801" cy="40.93" r="4"/>
</g>
<g id="arm_x5F_label">
   <path d="M130.664,88.883c3.507,2.204,4.447,7.018,2.101,10.751l-44.716,71.148c-2.346,3.732-7.09,4.971-10.597,2.768l0,0
      c-3.507-2.205-4.449-7.017-2.103-10.75l44.717-71.148C122.412,87.919,127.157,86.679,130.664,88.883L130.664,88.883z"/>
</g>
<g id="arm_x5F_text">
   <text transform="matrix(0.5321 -0.8467 0.8467 0.5321 92.8369 156.8516)"><tspan x="0" y="0" fill="#FFFFFF" font-family="'NotoSansCJKkr-Regular-KSCpc-EUC-H'" font-size="11">소매 </tspan><tspan x="22.704" y="0" fill="#FFFFFF" font-family="'NotoSansCJKkr-Regular-KSCpc-EUC-H'" font-size="12">+10cm</tspan></text>
</g>
<g id="length_x5F_line">
   <line fill="none" stroke="#040000" stroke-width="2" stroke-miterlimit="10" x1="483.168" y1="25.096" x2="483.168" y2="278.036"/>
</g>
<g id="length_x5F_left_x5F_dot">
   <circle cx="483.168" cy="29.096" r="4"/>
</g>
<g id="length_x5F_right_x5F_dot">
   <circle cx="482.504" cy="279.413" r="4"/>
</g>
<g id="length_x5F_label">
   <path d="M532.633,149.03c0,4.143-3.574,7.5-7.984,7.5h-84.033c-4.409,0-7.982-3.357-7.982-7.5l0,0c0-4.143,3.573-7.5,7.982-7.5
      h84.033C529.059,141.53,532.633,144.889,532.633,149.03L532.633,149.03z"/>
</g>
<g id="length_x5F_text">
   <text transform="matrix(1 0 0 1 447.7168 153.0225)"><tspan x="0" y="0" fill="#FFFFFF" font-family="'NotoSansCJKkr-Regular-KSCpc-EUC-H'" font-size="11">총기장 </tspan><tspan x="32.824" y="0" fill="#FFFFFF" font-family="'NotoSansCJKkr-Regular-KSCpc-EUC-H'" font-size="12">+10cm</tspan></text>
</g>
</svg>
 <div id="drawing"></div>
</body>
<script>
	var center_x = 10;
	var center_y = 10;

	var zparser = (function() {
		
		var path_data = [];

		
		var svg_parser = {};
		
			svg_parser.parse = function(){
				$('#stroke').children().find("path").each(function( index ) {
					
					var path_data = $( this ).attr("d").replace(/[\r\n\s]/gi, ""); 
					var path_number_data = path_data.split(/[a-zA-Z]/ig); 
					var arr_data = svg_parser.d_cutter(path_data,path_number_data,0,[]);

				});				
				
				
				$('svg').children().find("line").each(function( index ) {
 

				});		
				
				$('svg').children().find("circle").each(function( index ) {
					 

				});		
				
				$('svg').children().find("text").each(function( index ) {
					 

				});		
				
			};
			
			svg_parser.show_path_data = function(){
				console.dir(path_data);
			};
			
			svg_parser.d_cutter = function(p_path_data,p_path_number_data,p_index,p_R){
				
				if(p_index == p_path_number_data.length){
					console.log(p_index + " FINISH " +p_path_data);
					console.dir(p_R);
					path_data.push(p_R);
					return p_R;
				}
				
				var spliter = $.trim(p_path_number_data[p_index]);
				console.log(p_index + " -------- " + spliter + " ------ "+spliter.length);
				
				if(spliter == ""){
					console.log(p_index + " is empty " +p_path_data);
					svg_parser.d_cutter(p_path_data,p_path_number_data,p_index + 1,p_R);
					
				}else{
					
					if(p_path_data){
						
						var data_type = p_path_data.substring(0, 1); 
						console.log(p_index + " is not empty -- DATA exist -- " +p_path_data);  
						p_R.push(data_type+ "|"+ spliter);
						var next_path_data = p_path_data.substring(spliter.length+1 , p_path_data.length);
						
						svg_parser.d_cutter(next_path_data,p_path_number_data,p_index + 1,p_R);
						
					}else{
						console.log(p_index + " is not empty -- DATA NOT exist -- " +p_path_data);
						console.dir(p_R); 
						return p_R;
					}
					
				}
				
			};
			
			svg_parser.draw_path_m_point = function(){
				
				
				var draw = SVG('drawing').size(800, 800);
				
				for(var path_data_index in path_data){
					
					console.dir(path_data[path_data_index]);
					
					var point = path_data[path_data_index][0].split("|")[1].split(",");
					//console.dir(point);
					
					
					
					var path_str_data = "";
					for(var path_index in path_data[path_data_index]){ 
							
							var path_item_data = path_data[path_data_index][path_index].split("|");
							var path_item_number_data = path_item_data[1].split(",").join(" ");
							
							
							if(path_item_data[0] == "l" || path_item_data[0] == "L"){
								var path_item_number_data_point = path_item_data[1].split(",");
								console.log("move point");
								console.dir(path_item_number_data_point);
								var circle = draw.circle(4).fill('black').move(Math.round(path_item_number_data_point[0]), Math.round(path_item_number_data_point[1]));
								
							}
							 
							path_str_data += " ";
							path_str_data += path_item_data[0]; 
							path_str_data += path_item_number_data;
							
					}
					path_str_data += " z";
					
					console.log(path_str_data);
					var path = draw.path(path_str_data);
					path.fill('none');
					path.stroke({ color: 'green', width: 2, linecap: 'round', linejoin: 'round' })
					
				}
				
				
			};
			

		return svg_parser;

	}());
</script>
</html>